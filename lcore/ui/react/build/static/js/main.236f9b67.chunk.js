(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{14:function(t,e,n){"use strict";n.r(e);var a=n(1),u=n.n(a),i=n(8),s=n.n(i),o=n(3),r=n(4),c=n(6),b=n(5),l=n(2),d=n(0),h=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(o.a)(this,n),(t=e.call(this)).state={},t.state={visibility:"hidden"},t.copyToClipboard=t.copyToClipboard.bind(Object(l.a)(t));var a=t.copyToClipboard;return window.addEventListener("message",(function(t){t.data.copyText&&a(t.data.copyText)})),t}return Object(r.a)(n,[{key:"copyToClipboard",value:function(t){this.setState({visibility:"visible"});var e=document.getElementById("textToCopy");e.value=t,e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),this.setState({visibility:"hidden"})}},{key:"render",value:function(){return Object(d.jsx)("input",{type:"text",defaultValue:"",id:"textToCopy",style:{visibility:this.state.visibility}})}}]),n}(u.a.Component),j=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{id:"wipAlert",className:"unselectable",children:Object(d.jsx)("span",{children:"Server in WIP"})})}}]),n}(u.a.Component),m=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a.state={title:t.data.title,backgroundImage:t.data.backgroundImage},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{id:"menuBanner",className:"unselectable",children:[Object(d.jsx)("img",{src:this.state.backgroundImage,alt:"menuBannerImage",className:"unselectable"}),Object(d.jsx)("span",{children:this.state.title})]})}}]),n}(u.a.Component),g=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a.state={buttons:t.buttons,subtitleText:t.subtitle},a.getSelectedButton=t.getSelectedButton,a.getSubtitle=a.getSubtitle.bind(Object(l.a)(a)),a}return Object(r.a)(n,[{key:"getSubtitle",value:function(){return this.state.subtitleText}},{key:"getSubtitlePagination",value:function(){return this.getSelectedButton()+1+"/"+this.state.buttons.length}},{key:"render",value:function(){var t=this.getSubtitle(),e=this.getSubtitlePagination();return Object(d.jsxs)("div",{id:"menuSubtitle",className:"unselectable",children:[Object(d.jsx)("span",{className:"menuSubtitleText",children:t},"menuSubtitleText"),Object(d.jsx)("span",{className:"menuSubtitlePagination",children:e},"menuSubtitlePagination")]},"menuSubtitle")}}]),n}(u.a.Component),v=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a.state={buttonData:t.button},a.getText=a.getText.bind(Object(l.a)(a)),a.getRightText=a.getRightText.bind(Object(l.a)(a)),a.isSelected=a.isSelected.bind(Object(l.a)(a)),a.renderButton=a.renderButton.bind(Object(l.a)(a)),a}return Object(r.a)(n,[{key:"getText",value:function(){return this.state.buttonData.text}},{key:"getRightText",value:function(){return this.state.buttonData.text}},{key:"isSelected",value:function(){return this.state.buttonData.selected}},{key:"renderButton",value:function(){var t=[],e="unselectable";return this.isSelected()&&(e+=" menuSelectedButton"),this.state.buttonData.text&&t.push(Object(d.jsx)("span",{className:e+" menuButtonLeftText",style:this.state.buttonData.textStyle,children:this.state.buttonData.text},this.state.buttonData.id+"menuButtonLeftText")),this.state.buttonData.rightText&&t.push(Object(d.jsx)("span",{className:e+" menuButtonRightText",style:this.state.buttonData.rightTextStyle,children:this.state.buttonData.rightText},this.state.buttonData.id+"menuButtonRightText")),t}},{key:"render",value:function(){var t=this.renderButton(),e=this.isSelected();return Object(d.jsx)("div",{className:"menuButton",style:{backgroundColor:e?"rgba(230,230,230,0.95)":"rgba(0,0,0,0.6)"},children:t})}}]),n}(u.a.Component),O=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"arrowsUpAndDown",children:Object(d.jsx)("img",{src:"https://raw.githubusercontent.com/LH-Lawliet/LMenu/main/static/shop_arrows_upanddown.png",alt:"arrow_upanddown"})})}}]),n}(u.a.Component),p={width:"20vw",padding:"2vh",banner:{title:"Title",backgroundImage:"https://raw.githubusercontent.com/LH-Lawliet/LMenu/main/static/interaction_bgd.png"},subTitle:"Subtitle",maxButtons:10,currentButton:0,buttons:[]};function x(t,e){for(var n in e)"object"===typeof e[n]&&t[n]&&"object"===typeof t[n]?x(t[n],e[n]):t[n]=e[n]}var y=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={},t.state={menuData:p,showMenu:!1},t.createMenu=t.createMenu.bind(Object(l.a)(t)),t.setMenuData=t.setMenuData.bind(Object(l.a)(t)),t.getMenuData=t.getMenuData.bind(Object(l.a)(t)),t.getCurrentButton=t.getCurrentButton.bind(Object(l.a)(t)),t.menuGoUp=t.menuGoUp.bind(Object(l.a)(t)),t.menuGoDown=t.menuGoDown.bind(Object(l.a)(t)),t.isVisible=t.isVisible.bind(Object(l.a)(t)),t.setVisible=t.setVisible.bind(Object(l.a)(t)),t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){console.log("menu nui side, listen for event");var t=this.setMenuData,e=this.menuGoUp,n=this.menuGoDown,a=this.isVisible;window.addEventListener("message",(function(u){u.data.action&&"setMenu"===u.data.action&&(console.log(u),a()||t(u.data.menuData,!0)),u.data.action&&"menuGoUp"===u.data.action&&e(),u.data.action&&"menuGoDown"===u.data.action&&n()})),window.addEventListener("keydown",(function(t){"ArrowDown"===t.key&&n(),"ArrowUp"===t.key&&e()}))}},{key:"menuGoUp",value:function(){var t=this.state.menuData.currentButton-1;t<0&&(t=this.state.menuData.buttons.length-1),this.state.menuData.currentButton=t,this.setState({menuData:this.state.menuData})}},{key:"menuGoDown",value:function(){var t=this.state.menuData.currentButton+1;t>=this.state.menuData.buttons.length&&(t=0),this.state.menuData.currentButton=t,this.setState({menuData:this.state.menuData})}},{key:"isVisible",value:function(){return this.state.showMenu}},{key:"setVisible",value:function(t){this.setState({showMenu:t})}},{key:"getCurrentButton",value:function(){return this.state.menuData.currentButton}},{key:"setMenuData",value:function(t,e){if(e){var n=Object.assign({},p);x(n,t),this.setState({menuData:n,showMenu:!0})}else this.setState({menuData:t})}},{key:"getMenuData",value:function(){return this.state.menuData}},{key:"createMenu",value:function(t){if(this.isVisible()){console.log("menuData : ",t);var e=[];if(e.push(Object(d.jsx)(m,{data:t.banner},"banner")),e.push(Object(d.jsx)(g,{subtitle:t.subTitle,buttons:t.buttons,getSelectedButton:this.getCurrentButton},"SubTitle")),t.buttons&&0!==t.buttons.length){var n=0,a=t.maxButtons;a>t.buttons.length&&(a=t.buttons.length),a-2<t.currentButton&&(n=t.currentButton-(t.maxButtons-2),a=t.currentButton+2),a>t.buttons.length-1&&(n=(a=t.buttons.length)-t.maxButtons),n<0&&(n=0),a<0&&(a=0);for(var u=n;u<a;u++){var i=u+"";u===t.currentButton?t.buttons[i].selected=!0:t.buttons[i].selected=!1,t.buttons[i].id=u,t.buttons.type||e.push(Object(d.jsx)(v,{button:t.buttons[i]},u))}t.buttons.length>t.maxButtons&&e.push(Object(d.jsx)(O,{},"ArrowsUpAndDown"))}return e}}},{key:"render",value:function(){var t=this.getMenuData(),e=this.createMenu(t);return Object(d.jsx)("div",{id:"Menu",style:{padding:t.padding,width:t.width},children:e})}}]),n}(u.a.Component),f=function(t){Object(c.a)(n,t);var e=Object(b.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)(j,{}),Object(d.jsx)(y,{})]})}}]),n}(u.a.Component);s.a.render(Object(d.jsx)(u.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.236f9b67.chunk.js.map