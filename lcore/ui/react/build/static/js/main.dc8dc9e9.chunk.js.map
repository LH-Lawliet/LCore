{"version":3,"sources":["clipboard/Clipboard.js","wipAlert/WIPAlert.js","menu/Banner.js","menu/Subtitle.js","menu/Button.js","menu/ArrowsUpAndDown.js","utils.js","menu/Menu.js","App.js","index.js"],"names":["ClipboardInput","state","visibility","copyToClipboard","bind","window","addEventListener","event","data","copyText","text","this","setState","el","document","getElementById","value","select","setSelectionRange","execCommand","type","defaultValue","id","style","React","Component","WIPAlert","className","Banner","title","backgroundImage","src","alt","Subtitle","buttons","subtitleText","subtitle","getSelectedButton","getSubtitle","length","subtitlePagination","getSubtitlePagination","buttonData","button","getText","getRightText","isSelected","renderButton","selected","push","textStyle","rightText","rightTextStyle","ArrowsUpAndDown","resourceName","recursiveAssign","element1","element2","k","callFivemCallback","name","invokeNative","GetParentResourceName","fetch","method","headers","body","JSON","stringify","then","resp","json","console","log","Menu","menuData","showMenu","createMenu","setMenuData","getMenuData","getCurrentButton","menuGoUp","menuGoDown","menuPressSelect","isVisible","setVisible","action","getState","e","key","currentButton","callback","next","visible","callbackState","forceVisible","menu","banner","subTitle","start","end","maxButtons","n","padding","width","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dc8dc9e9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default class ClipboardInput extends React.Component {\r\n    state = {};\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            visibility:\"hidden\"\r\n        };\r\n        this.copyToClipboard = this.copyToClipboard.bind(this);\r\n        let copyToClipboard = this.copyToClipboard\r\n        window.addEventListener('message', function(event) {\r\n            if (event.data.copyText) {\r\n                copyToClipboard(event.data.copyText);\r\n            }\r\n        });\r\n    };\r\n\r\n    copyToClipboard(text) {\r\n        this.setState({visibility:\"visible\"});\r\n        let el =  document.getElementById(\"textToCopy\");\r\n        el.value = text;\r\n        el.select();\r\n        el.setSelectionRange(0, 99999);\r\n\r\n        document.execCommand(\"copy\");\r\n        this.setState({visibility:\"hidden\"});\r\n    };\r\n\r\n    render() {\r\n        return (      \r\n            <input type=\"text\" defaultValue=\"\" id=\"textToCopy\" style={{visibility:this.state.visibility}}></input>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class WIPAlert extends React.Component {\r\n    render() {\r\n        return (<div id=\"wipAlert\" className=\"unselectable\">\r\n            <span>Server in WIP</span>\r\n        </div>)\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Banner extends React.Component {\r\n    state = {};\r\n    constructor (data) {\r\n        super(data);\r\n        this.state = {\r\n            title: data.data.title,\r\n            backgroundImage: data.data.backgroundImage,\r\n        };\r\n    };\r\n\r\n    render() {\r\n        return (      \r\n            <div id=\"menuBanner\" className=\"unselectable\">\r\n                <img src={this.state.backgroundImage} alt='menuBannerImage' className=\"unselectable\"/>\r\n\r\n                <span>{this.state.title}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Subtitle extends React.Component {\r\n    state = {};\r\n    constructor (data) {\r\n        super(data);\r\n        this.state = {\r\n            buttons: data.buttons,\r\n            subtitleText: data.subtitle,\r\n        };\r\n        this.getSelectedButton = data.getSelectedButton\r\n        this.getSubtitle = this.getSubtitle.bind(this)\r\n    };\r\n\r\n    getSubtitle () {\r\n        return this.state.subtitleText\r\n    }\r\n\r\n    getSubtitlePagination () {\r\n        return (this.getSelectedButton()+1)+\"/\"+this.state.buttons.length\r\n    }\r\n\r\n    render() {\r\n        let subtitleText = this.getSubtitle()\r\n        let subtitlePagination = this.getSubtitlePagination()\r\n        return (      \r\n            <div key={\"menuSubtitle\"} id=\"menuSubtitle\" className=\"unselectable\">\r\n                <span key={\"menuSubtitleText\"} className=\"menuSubtitleText\">{subtitleText}</span>\r\n                <span key={\"menuSubtitlePagination\"} className=\"menuSubtitlePagination\">{subtitlePagination}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Subtitle extends React.Component {\r\n    state = {};\r\n    constructor (data) {\r\n        super(data);\r\n        this.state = {\r\n            buttonData: data.button\r\n        };\r\n\r\n        this.getText = this.getText.bind(this)\r\n        this.getRightText = this.getRightText.bind(this)\r\n        this.isSelected = this.isSelected.bind(this)\r\n        this.renderButton = this.renderButton.bind(this)\r\n    };\r\n\r\n    getText () {\r\n        return this.state.buttonData.text\r\n    }\r\n\r\n    getRightText () {\r\n        return this.state.buttonData.text\r\n    }\r\n\r\n    isSelected () {\r\n        return this.state.buttonData.selected\r\n    }\r\n\r\n    renderButton () {\r\n        let button = []\r\n\r\n        let className = \"unselectable\"\r\n        if (this.isSelected()) {\r\n            className += \" menuSelectedButton\"\r\n        }\r\n\r\n        if (this.state.buttonData.text) {\r\n            button.push(<span key={this.state.buttonData.id+\"menuButtonLeftText\"} className={className+\" menuButtonLeftText\"} style={this.state.buttonData.textStyle}>{this.state.buttonData.text}</span>)\r\n        }\r\n        if (this.state.buttonData.rightText) {\r\n            button.push(<span key={this.state.buttonData.id+\"menuButtonRightText\"} className={className+\" menuButtonRightText\"} style={this.state.buttonData.rightTextStyle}>{this.state.buttonData.rightText}</span>)\r\n        }\r\n        return button\r\n    }\r\n\r\n    render() {\r\n        let button = this.renderButton()\r\n        let selected = this.isSelected()\r\n        return (      \r\n            <div className=\"menuButton\" style={{\"backgroundColor\":(selected ? \"rgba(230,230,230,0.95)\" : \"rgba(0,0,0,0.6)\")}}>\r\n                {button}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class ArrowsUpAndDown extends React.Component {\r\n    render() {\r\n        return (      \r\n            <div className=\"arrowsUpAndDown\">\r\n                <img src=\"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/shop_arrows_upanddown.png\" alt=\"arrow_upanddown\"/>\r\n            </div>\r\n        )\r\n    }\r\n}","let resourceName = \"unknown resourceName\"\r\n\r\nexport function isEnvBrowser() {\r\n    if (window.invokeNative) {\r\n        if (resourceName === \"unknown resourceName\") {\r\n            resourceName = window.GetParentResourceName()\r\n        }\r\n        return false\r\n    }\r\n    return true\r\n} \r\n\r\nexport function recursiveAssign(element1,element2) {\r\n    for (let k in element2) {\r\n        if (typeof element2[k] === \"object\") {\r\n            if (element1[k] && (typeof element1[k] === \"object\")) {\r\n                recursiveAssign(element1[k],element2[k])\r\n            } else {\r\n                element1[k] = element2[k]\r\n            }\r\n        } else {\r\n            element1[k] = element2[k]\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// browser-side JS\r\nexport function callFivemCallback(name, data) {\r\n    if (!isEnvBrowser()) {\r\n        fetch(`https://${resourceName}/${name}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json; charset=UTF-8',\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then(resp => resp.json()).then(resp => console.log(resp));\r\n    } else {\r\n        console.log(\"Should call fivemNuiCallback but we are in regular browser with name '\", name, \"' and data \", data)\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nimport Banner from './Banner.js'\r\nimport Subtitle from './Subtitle.js'\r\nimport Button from './Button.js'\r\nimport ArrowsUpAndDown from './ArrowsUpAndDown.js'\r\nimport {recursiveAssign, callFivemCallback} from './../utils.js'\r\n\r\n\r\nfunction getDefaultMenu() {\r\n    return {\r\n        \"width\": \"25vw\",\r\n        \"padding\": \"2vh\",\r\n        \"banner\": {\r\n            \"title\":\"Title\",\r\n            \"backgroundImage\":\"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/interaction_bgd.png\",\r\n        },\r\n        \"subTitle\": \"Subtitle\",\r\n        \"maxButtons\":10,\r\n        \"currentButton\":0,\r\n        \"buttons\":[]\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default class Menu extends React.Component {\r\n    state = {};\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            menuData: getDefaultMenu(),\r\n            showMenu: false\r\n        };\r\n\r\n        this.createMenu = this.createMenu.bind(this)\r\n        this.setMenuData = this.setMenuData.bind(this)\r\n        this.getMenuData = this.getMenuData.bind(this)\r\n        this.getCurrentButton = this.getCurrentButton.bind(this)\r\n        this.menuGoUp = this.menuGoUp.bind(this)\r\n        this.menuGoDown = this.menuGoDown.bind(this)\r\n        this.menuPressSelect = this.menuPressSelect.bind(this)\r\n        this.isVisible = this.isVisible.bind(this)\r\n        this.setVisible = this.setVisible.bind(this)\r\n    };\r\n\r\n    componentDidMount() {\r\n        let setMenuData = this.setMenuData\r\n        let menuGoUp = this.menuGoUp\r\n        let menuGoDown = this.menuGoDown\r\n        let menuPressSelect = this.menuPressSelect\r\n        let isVisible = this.isVisible\r\n        let setVisible = this.setVisible\r\n        window.addEventListener('message', function(event) {\r\n            if (event.data.action && event.data.action === \"setMenu\") {\r\n                if (!isVisible()) {\r\n                    setMenuData(event.data.menuData, true)\r\n                }\r\n            }\r\n            if (event.data.action && event.data.action === \"closeMenu\") {\r\n                if (isVisible()) {\r\n                    setVisible(false, event.data.getState)\r\n                }\r\n            }\r\n            if (event.data.action && event.data.action === \"menuGoUp\") {\r\n                if (isVisible()) {\r\n                    menuGoUp()\r\n                }\r\n            }\r\n            if (event.data.action && event.data.action === \"menuGoDown\") {\r\n                if (isVisible()) {\r\n                    menuGoDown()\r\n                }\r\n            }\r\n            if (event.data.action && event.data.action === \"menuPressSelect\") {\r\n                if (isVisible()) {\r\n                    menuPressSelect()\r\n                }\r\n            }\r\n        });\r\n\r\n        window.addEventListener('keydown', function (e) {\r\n            if (e.key === \"ArrowDown\") {\r\n                if (isVisible()) {\r\n                    menuGoDown()\r\n                }\r\n            }\r\n            if (e.key === \"ArrowUp\") {\r\n                if (isVisible()) {\r\n                    menuGoUp()\r\n                }\r\n            }\r\n            if (e.key === \"Enter\") {\r\n                if (isVisible()) {\r\n                    menuPressSelect()\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    menuPressSelect() {\r\n        let button = this.state.menuData.buttons[this.state.menuData.currentButton]\r\n        if (button && button.callback) {\r\n            callFivemCallback(\"callButtonCallback\", button)\r\n        }\r\n    }\r\n\r\n    menuGoUp() {\r\n        let next = this.state.menuData.currentButton-1\r\n        if (next<0) {\r\n            next = this.state.menuData.buttons.length-1\r\n        }\r\n        let menuData = this.state.menuData\r\n        menuData.currentButton = next\r\n        this.setState({menuData: this.state.menuData})\r\n    }\r\n\r\n    menuGoDown() {\r\n        let next = this.state.menuData.currentButton+1\r\n        if (next >= this.state.menuData.buttons.length) {\r\n            next = 0\r\n        }\r\n        let menuData = this.state.menuData\r\n        menuData.currentButton = next\r\n        this.setState({menuData: this.state.menuData})\r\n    }\r\n\r\n    isVisible() {\r\n        return this.state.showMenu\r\n    }\r\n\r\n    setVisible(visible, callbackState) {\r\n        if (visible) {\r\n            this.setState({showMenu:visible})\r\n        } else {\r\n            if (callbackState) {\r\n                callFivemCallback(\"updateMenuState\", this.getMenuData())\r\n            }\r\n            console.log(\"reset to \", getDefaultMenu())\r\n            this.setState({showMenu:visible, menuData:getDefaultMenu()})\r\n        }\r\n        \r\n    }\r\n\r\n    getCurrentButton() {\r\n        return this.state.menuData.currentButton\r\n    }\r\n\r\n    setMenuData(data, forceVisible) {\r\n        let menu = getDefaultMenu()\r\n        recursiveAssign(menu,data)\r\n        if (forceVisible) {\r\n            this.setState({menuData:menu, showMenu:true})\r\n        } else {\r\n            this.setState({menuData:data})\r\n        }\r\n    }\r\n\r\n    getMenuData() {\r\n        return this.state.menuData\r\n    }\r\n\r\n    createMenu(data) {\r\n        if (!this.isVisible()) {\r\n            return\r\n        }\r\n        \r\n        let menu = []\r\n\r\n        menu.push(<Banner key={\"banner\"} data={data.banner}/>)\r\n        menu.push(<Subtitle key={\"SubTitle\"} subtitle={data.subTitle} buttons={data.buttons} getSelectedButton={this.getCurrentButton}/>)\r\n\r\n\r\n        if ((data.buttons) && (data.buttons.length !== 0)) {\r\n            let start = 0\r\n            let end = data.maxButtons\r\n\r\n            if (end>data.buttons.length) {\r\n                end = data.buttons.length\r\n            }\r\n\r\n            if (end-2<data.currentButton) {\r\n                start = data.currentButton-(data.maxButtons-2)\r\n                end = data.currentButton+2\r\n            }\r\n\r\n            if (end>data.buttons.length-1) {\r\n                end = data.buttons.length\r\n                start = end-data.maxButtons\r\n            }\r\n\r\n            if (start<0) {\r\n                start = 0\r\n            }\r\n\r\n            if (end<0) {\r\n                end = 0\r\n            }\r\n\r\n            for (let n = start; n < end; n++) {\r\n                let k = n+\"\"\r\n\r\n                if (n === data.currentButton) {\r\n                    data.buttons[k].selected = true\r\n                } else {\r\n                    data.buttons[k].selected = false\r\n                }\r\n\r\n                \r\n                data.buttons[k].id = n\r\n                if (!data.buttons.type) {\r\n                    menu.push(<Button key={n} button={data.buttons[k]}/>)\r\n                }\r\n            }\r\n\r\n            if (data.buttons.length>data.maxButtons) {\r\n                menu.push(<ArrowsUpAndDown key={\"ArrowsUpAndDown\"}/>)\r\n            }\r\n        }\r\n        \r\n        return menu\r\n    }\r\n\r\n    render() {\r\n        let menuData = this.getMenuData()\r\n        let menu = this.createMenu(menuData)\r\n        return (      \r\n            <div id=\"Menu\" style={{\"padding\":menuData.padding, \"width\":menuData.width}}>{menu}</div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ClipboardInput from './clipboard/Clipboard.js'\r\nimport WIPAlert from './wipAlert/WIPAlert.js'\r\nimport Menu from './menu/Menu.js'\r\n\r\nexport default class App extends React.Component {\r\n    render() {\r\n        return (\r\n        <div>\r\n            <ClipboardInput/>\r\n            <WIPAlert/>\r\n            <Menu/>\r\n        </div>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.js'\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}