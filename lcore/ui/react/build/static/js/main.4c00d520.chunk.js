(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(2),s=n.n(a),i=n(8),o=n.n(i),u=n(3),c=n(4),r=n(6),l=n(5),h=n(1),d=n(0),m=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n),(t=e.call(this)).state={},t.state={visibility:"hidden"},t.copyToClipboard=t.copyToClipboard.bind(Object(h.a)(t));var a=t.copyToClipboard;return window.addEventListener("message",(function(t){t.data.copyText&&a(t.data.copyText)})),t}return Object(c.a)(n,[{key:"copyToClipboard",value:function(t){this.setState({visibility:"visible"});var e=document.getElementById("textToCopy");e.value=t,e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),this.setState({visibility:"hidden"})}},{key:"render",value:function(){return Object(d.jsx)("input",{type:"text",defaultValue:"",id:"textToCopy",style:{visibility:this.state.visibility}})}}]),n}(s.a.Component),b=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{id:"wipAlert",className:"unselectable",children:Object(d.jsx)("span",{children:"Server in WIP"})})}}]),n}(s.a.Component),v="https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/mom_dad/portraitsById/",g=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},a.state={title:t.data.title,backgroundImage:t.data.backgroundImage,heritage:t.data.heritage,height:t.data.height,vignette:t.data.vignette},a.renderImage=a.renderImage.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"renderImage",value:function(){var t=[];return t.push(Object(d.jsx)("img",{src:this.state.backgroundImage,alt:"menuBannerImage",className:"unselectable menuBannerBackground"},"menuBannerImage")),this.state.heritage&&(null!=this.state.heritage[0]&&t.push(Object(d.jsx)("img",{src:v+this.state.heritage[0]+".png",alt:"heritageLeft",className:"unselectable menuBannerHeritageLeft"},"menuBannerHeritageLeft")),null!=this.state.heritage[1]&&t.push(Object(d.jsx)("img",{src:v+this.state.heritage[1]+".png",alt:"heritageRight",className:"unselectable menuBannerHeritageRight"},"menuBannerHeritageRight"))),this.state.vignette&&t.push(Object(d.jsx)("img",{src:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/mom_dad/menu/vignette.png",alt:"menuBannerVignette",className:"unselectable menuBannerBackground"},"menuBannerVignette")),t}},{key:"render",value:function(){var t=this.renderImage();return Object(d.jsxs)("div",{id:"menuBanner",className:"unselectable",style:{height:this.state.height},children:[t,Object(d.jsx)("span",{children:this.state.title})]})}}]),n}(s.a.Component),p=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},a.state={buttons:t.buttons,subtitleText:t.subtitle},a.getSelectedButton=t.getSelectedButton,a.getSubtitle=a.getSubtitle.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"getSubtitle",value:function(){return this.state.subtitleText}},{key:"getSubtitlePagination",value:function(){return this.getSelectedButton()+1+"/"+this.state.buttons.length}},{key:"render",value:function(){var t=this.getSubtitle(),e=this.getSubtitlePagination();return Object(d.jsxs)("div",{id:"menuSubtitle",className:"unselectable",children:[Object(d.jsx)("span",{className:"menuSubtitleText",children:t},"menuSubtitleText"),Object(d.jsx)("span",{className:"menuSubtitlePagination",children:e},"menuSubtitlePagination")]},"menuSubtitle")}}]),n}(s.a.Component),j="unknown resourceName";function O(){return!window.invokeNative||("unknown resourceName"===j&&(j=window.GetParentResourceName()),!1)}function f(t,e){for(var n in e)"object"===typeof e[n]&&t[n]&&"object"===typeof t[n]?f(t[n],e[n]):t[n]=e[n]}function k(t){var e=t.replace("#","").match(/.{1,2}/g);return{r:parseInt(e[0],16),g:parseInt(e[1],16),b:parseInt(e[2],16)}}function x(t,e){O()?console.log("Should call fivemNuiCallback but we are in regular browser with name '",t,"' and data ",e):fetch("https://".concat(j,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(t){return t.json()}))}var D=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},t.button.rightLogo&&(">"===t.button.rightLogo&&(t.button.rightComponent="img",t.button.rightImgUrl="https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/arrowright.png"),"dead"===t.button.rightLogo&&(t.button.rightComponent="img",t.button.rightImgUrl="https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenutu/deathmatch.png")),a.state={buttonData:t.button},a.mounted=!1,a.onMouseOver=t.onMouseOver,a.canIClick=t.canIClick,a.exitDisableClickZone=t.exitDisableClickZone,a.enterDisableClickZone=t.enterDisableClickZone,a.getText=a.getText.bind(Object(h.a)(a)),a.getRightText=a.getRightText.bind(Object(h.a)(a)),a.isSelected=a.isSelected.bind(Object(h.a)(a)),a.renderButton=a.renderButton.bind(Object(h.a)(a)),a.menuPressSelect=a.menuPressSelect.bind(Object(h.a)(a)),a.didImMounted=a.didImMounted.bind(Object(h.a)(a)),a.colorChange=a.colorChange.bind(Object(h.a)(a)),a.setToChecked=a.setToChecked.bind(Object(h.a)(a)),a.setToUnchecked=a.setToUnchecked.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this.menuPressSelect,e=this.didImMounted,n=this.isSelected;this.mounted=!0,window.addEventListener("message",(function(a){a.data.action&&"menuPressSelect"===a.data.action&&e()&&n()&&t()})),window.addEventListener("keydown",(function(a){"Enter"===a.key&&e()&&n()&&t()}))}},{key:"didImMounted",value:function(){return this.mounted}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"menuPressSelect",value:function(){var t=this.state.buttonData;t.rightComponent&&"checkbox"===t.rightComponent?t.checked?this.setToUnchecked():this.setToChecked():this.didImMounted()&&t&&t.callback&&this.isSelected()&&x("callButtonCallback",t)}},{key:"getText",value:function(){return this.state.buttonData.text}},{key:"getRightText",value:function(){return this.state.buttonData.text}},{key:"isSelected",value:function(){return this.state.buttonData.selected}},{key:"colorChange",value:function(t){var e=this.state.buttonData;this.didImMounted()&&e&&e.onColorChange&&this.isSelected()&&x("callButtonCallback",{callback:e.onColorChange,callbackData:k(t)})}},{key:"setToChecked",value:function(){var t=this.state.buttonData;this.didImMounted()&&t&&t.onCheck&&this.isSelected()&&x("callButtonCallback",{callback:t.onCheck}),t.checked=!0,this.setState({buttonData:t})}},{key:"setToUnchecked",value:function(){var t=this.state.buttonData;this.didImMounted()&&t&&t.onUncheck&&this.isSelected()&&x("callButtonCallback",{callback:t.onUncheck}),t.checked=!1,this.setState({buttonData:t})}},{key:"renderButton",value:function(){var t=[];if(this.state.buttonData.text&&t.push(Object(d.jsx)("span",{className:"menuButtonLeftText unselectable",style:this.state.buttonData.textStyle,children:this.state.buttonData.text},this.state.buttonData.id+"menuButtonLeftText")),this.state.buttonData.rightText)t.push(Object(d.jsx)("span",{className:"menuButtonRightText unselectable",style:this.state.buttonData.rightTextStyle,children:this.state.buttonData.rightText},this.state.buttonData.id+"menuButtonRightText"));else if(this.state.buttonData.rightComponent){var e=this.colorChange,n=this.enterDisableClickZone,a=this.exitDisableClickZone;if("colorPicker"===this.state.buttonData.rightComponent)t.push(Object(d.jsx)("input",{className:"menuButtonRightComponent color unselectable",type:"color",id:this.state.buttonData.id+"menuButtonRightComponent",name:this.state.buttonData.componentText,readOnly:this.state.colorOfInput||"#000000",onChange:function(t){e(t.target.value)},onMouseEnter:n,onMouseLeave:a},this.state.buttonData.id+"menuButtonRightComponent"));else if("checkbox"===this.state.buttonData.rightComponent)if(this.state.buttonData.checked){var s=this.setToUnchecked;t.push(Object(d.jsx)("img",{alt:"\u2611",className:"menuButtonRightComponent checkBox unselectable",src:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/shop_box_tick_lessMargin.png",onMouseEnter:n,onMouseLeave:a,onMouseDown:s},this.state.buttonData.id+"menuButtonRightComponent"))}else{var i=this.setToChecked;t.push(Object(d.jsx)("img",{alt:"\u2610",className:"menuButtonRightComponent checkBox unselectable",src:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/shop_box_blank_lessMargin.png",onMouseEnter:n,onMouseLeave:a,onMouseDown:i},this.state.buttonData.id+"menuButtonRightComponent"))}else if("img"===this.state.buttonData.rightComponent){var o=this.state.buttonData.rightImgUrl;t.push(Object(d.jsx)("img",{alt:"rightImg",className:"menuButtonRightComponent unselectable",src:o},this.state.buttonData.id+"menuButtonRightComponent"))}}return t}},{key:"render",value:function(){var t=this.renderButton(),e="menuButton",n=this.onMouseOver;this.isSelected()&&(e+=" menuSelectedButton");var a=this.canIClick,s=this.menuPressSelect;return Object(d.jsx)("div",{className:e,onMouseOver:n,onMouseDown:function(){a()&&s()},children:t})}}]),n}(s.a.Component),y=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},a.state={buttonData:t.button},a.mounted=!1,a.onMouseOver=t.onMouseOver,a.canIClick=t.canIClick,a.exitDisableClickZone=t.exitDisableClickZone,a.enterDisableClickZone=t.enterDisableClickZone,a.isSelected=a.isSelected.bind(Object(h.a)(a)),a.renderButton=a.renderButton.bind(Object(h.a)(a)),a.menuPressSelect=a.menuPressSelect.bind(Object(h.a)(a)),a.didImMounted=a.didImMounted.bind(Object(h.a)(a)),a.onTextUpdate=a.onTextUpdate.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this.menuPressSelect,e=this.didImMounted,n=this.isSelected;this.mounted=!0,window.addEventListener("message",(function(a){a.data.action&&"menuPressSelect"===a.data.action&&e()&&n()&&t()})),window.addEventListener("keydown",(function(a){"Enter"===a.key&&e()&&n()&&t()}))}},{key:"componentDidUpdate",value:function(){this.state.buttonData.selected&&!this.state.buttonData.hasFocus?(this.state.buttonData.hasFocus=!0,this.searchInput.focus(),x("askForInputsFocus")):!this.state.buttonData.selected&&this.state.buttonData.hasFocus&&(this.state.buttonData.hasFocus=!1,this.searchInput.blur(),x("releaseInputsFocus"))}},{key:"didImMounted",value:function(){return this.mounted}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"menuPressSelect",value:function(){}},{key:"isSelected",value:function(){return this.state.buttonData.selected}},{key:"onTextUpdate",value:function(){x("callButtonCallback",{callback:this.state.buttonData.onChange,callbackData:this.searchInput.value})}},{key:"renderButton",value:function(){var t=this,e=[];return e.push(Object(d.jsx)("span",{className:"menuButtonLeftText unselectable",children:(this.state.buttonData.text||"Input")+" : "},this.state.buttonData.id+"menuButtonInputText")),e.push(Object(d.jsx)("input",{type:"text",className:"buttonTextInput",id:this.state.buttonData.id+"menuButtonInput",ref:function(e){return t.searchInput=e},placeholder:this.state.buttonData.placeholder,onChange:this.onTextUpdate},this.state.buttonData.id+"menuButtonInput")),e}},{key:"render",value:function(){var t=this.renderButton(),e="menuButton",n=this.onMouseOver;this.isSelected()&&(e+=" menuSelectedButton");var a=this.canIClick,s=this.menuPressSelect;return Object(d.jsx)("div",{className:e,onMouseOver:n,onMouseDown:function(){a()&&s()},children:t})}}]),n}(s.a.Component),I=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},t.button.list=t.button.list||["nil"],t.button.selectedElementId=t.button.selectedElementId||0,a.state={buttonData:t.button},a.mounted=!1,a.onMouseOver=t.onMouseOver,a.canIClick=t.canIClick,a.exitDisableClickZone=t.exitDisableClickZone,a.enterDisableClickZone=t.enterDisableClickZone,a.getText=a.getText.bind(Object(h.a)(a)),a.isSelected=a.isSelected.bind(Object(h.a)(a)),a.renderButton=a.renderButton.bind(Object(h.a)(a)),a.getSelectedElementText=a.getSelectedElementText.bind(Object(h.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(h.a)(a)),a.didImMounted=a.didImMounted.bind(Object(h.a)(a)),a.menuGoRight=a.menuGoRight.bind(Object(h.a)(a)),a.menuGoLeft=a.menuGoLeft.bind(Object(h.a)(a)),a.menuPressSelect=a.menuPressSelect.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this.menuGoRight,e=this.menuGoLeft,n=this.isSelected,a=this.menuPressSelect,s=this.didImMounted;this.mounted=!0,window.addEventListener("message",(function(i){i.data.action&&"menuGoRight"===i.data.action&&s()&&n()&&t(),i.data.action&&"menuGoLeft"===i.data.action&&s()&&n()&&e(),i.data.action&&"menuPressSelect"===i.data.action&&s()&&n()&&a()})),window.addEventListener("keydown",(function(i){"ArrowLeft"===i.key&&s()&&n()&&e(),"ArrowRight"===i.key&&s()&&n()&&t(),"Enter"===i.key&&s()&&n()&&a()}))}},{key:"didImMounted",value:function(){return this.mounted}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"menuPressSelect",value:function(){var t=this.state.buttonData;this.didImMounted()&&t&&t.callback&&this.isSelected()&&x("callButtonCallback",t)}},{key:"getText",value:function(){return this.state.buttonData.text}},{key:"isSelected",value:function(){return this.state.buttonData.selected}},{key:"menuGoRight",value:function(){if(this.state.buttonData.selected){var t=this.state.buttonData.selectedElementId+1;t>this.state.buttonData.list.length-1&&(t=0),this.state.buttonData.onIndexChange&&x("callButtonCallback",{callback:this.state.buttonData.onIndexChange,callbackData:{key:t,value:this.state.buttonData.list[t]}});var e=this.state.buttonData;e.selectedElementId=t,this.setState({buttonData:e})}}},{key:"menuGoLeft",value:function(){if(this.state.buttonData.selected){var t=this.state.buttonData.selectedElementId-1;t<0&&(t=this.state.buttonData.list.length-1),this.state.buttonData.onIndexChange&&x("callButtonCallback",{callback:this.state.buttonData.onIndexChange,callbackData:{key:t,value:this.state.buttonData.list[t]}});var e=this.state.buttonData;e.selectedElementId=t,this.setState({buttonData:e})}}},{key:"getSelectedElementText",value:function(){return this.state.buttonData.list[this.state.buttonData.selectedElementId]}},{key:"renderButton",value:function(){var t=[],e="unselectable";this.state.buttonData.text&&t.push(Object(d.jsx)("span",{className:e+" menuButtonLeftText",style:this.state.buttonData.textStyle,children:this.state.buttonData.text},this.state.buttonData.id+"menuButtonLeftText"));var n=this.getSelectedElementText(),a=this.menuGoLeft,s=this.menuGoRight,i=this.enterDisableClickZone,o=this.exitDisableClickZone,u=this.canIClick,c=this.menuPressSelect;return t.push(Object(d.jsxs)("div",{className:e+" rightPartListButton",onMouseDown:function(){u()&&c()},children:[Object(d.jsx)("img",{alt:"leftArrow",src:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/arrowleft.png",className:e,onMouseDown:a,onMouseEnter:i,onMouseLeave:o},this.state.buttonData.id+"menuButtonRightTextLeftArrow"),Object(d.jsx)("div",{className:"spanContainer",children:Object(d.jsx)("span",{children:n},this.state.buttonData.id+"menuButtonRightText")}),Object(d.jsx)("img",{alt:"rightArrow",src:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/arrowright.png",className:e,onMouseDown:s,onMouseEnter:i,onMouseLeave:o},this.state.buttonData.id+"menuButtonRightTextRightArrow")]},this.state.buttonData.id+"menuButtonRightTextDiv")),t}},{key:"render",value:function(){var t=this.renderButton(),e=this.onMouseOver,n="menuButton";return this.isSelected()&&(n+=" menuSelectedButton"),Object(d.jsx)("div",{className:n,onMouseOver:e,children:t})}}]),n}(s.a.Component),C=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"arrowsUpAndDown",children:Object(d.jsx)("img",{src:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/shop_arrows_upanddown.png",alt:"arrow_upanddown"})})}}]),n}(s.a.Component);function w(){return O(),{width:"25vw",padding:"2vh",banner:{height:"10vh",title:"Title",backgroundImage:"https://raw.githubusercontent.com/LH-Lawliet/gtavThings/main/img/menu/commonmenu/interaction_bgd.png"},subTitle:"Subtitle",maxButtons:10,currentButton:0,buttons:[]}}var M=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).state={},t.state={menuData:w(),showMenu:O()&&false},t.createMenu=t.createMenu.bind(Object(h.a)(t)),t.setMenuData=t.setMenuData.bind(Object(h.a)(t)),t.getMenuData=t.getMenuData.bind(Object(h.a)(t)),t.getCurrentButton=t.getCurrentButton.bind(Object(h.a)(t)),t.menuGoUp=t.menuGoUp.bind(Object(h.a)(t)),t.menuGoDown=t.menuGoDown.bind(Object(h.a)(t)),t.isVisible=t.isVisible.bind(Object(h.a)(t)),t.setVisible=t.setVisible.bind(Object(h.a)(t)),t.setSelected=t.setSelected.bind(Object(h.a)(t)),t.canIClick=t.canIClick.bind(Object(h.a)(t)),t.enterDisableClickZone=t.enterDisableClickZone.bind(Object(h.a)(t)),t.exitDisableClickZone=t.exitDisableClickZone.bind(Object(h.a)(t)),t.isMouseControlable=t.isMouseControlable.bind(Object(h.a)(t)),t.canClick=!0,t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this.setMenuData,e=this.menuGoUp,n=this.menuGoDown,a=this.isVisible,s=this.setVisible;window.addEventListener("message",(function(i){i.data.action&&"setMenu"===i.data.action&&(a()||t(i.data.menuData,!0)),i.data.action&&"closeMenu"===i.data.action&&a()&&s(!1,i.data.getState),i.data.action&&"menuGoUp"===i.data.action&&a()&&e(),i.data.action&&"menuGoDown"===i.data.action&&a()&&n()})),window.addEventListener("keydown",(function(t){"ArrowDown"===t.key&&a()&&n(),"ArrowUp"===t.key&&a()&&e()}));var i=this.isMouseControlable;window.addEventListener("wheel",(function(t){a()&&i()&&(t.deltaY>0?n():e())}))}},{key:"isMouseControlable",value:function(){return this.state.menuData.mouse}},{key:"canIClick",value:function(){return this.canClick&&this.isMouseControlable()}},{key:"enterDisableClickZone",value:function(){this.canClick=!1}},{key:"exitDisableClickZone",value:function(){this.canClick=!0}},{key:"menuGoUp",value:function(){var t=this.state.menuData.currentButton-1;t<0&&(t=this.state.menuData.buttons.length-1),this.state.menuData.currentButton=t,this.setState({menuData:this.state.menuData})}},{key:"menuGoDown",value:function(){var t=this.state.menuData.currentButton+1;t>=this.state.menuData.buttons.length&&(t=0),this.state.menuData.currentButton=t,this.setState({menuData:this.state.menuData})}},{key:"isVisible",value:function(){return this.state.showMenu}},{key:"setVisible",value:function(t,e){t?this.setState({showMenu:t}):(e&&x("updateMenuState",this.getMenuData()),this.setState({showMenu:t,menuData:w()}))}},{key:"getCurrentButton",value:function(){return this.state.menuData.currentButton}},{key:"setMenuData",value:function(t,e){var n=w();f(n,t),e?this.setState({menuData:n,showMenu:!0}):this.setState({menuData:t})}},{key:"getMenuData",value:function(){return this.state.menuData}},{key:"setSelected",value:function(t){this.state.menuData.currentButton=t,this.setState({menuData:this.state.menuData})}},{key:"createMenu",value:function(t){var e=this;if(this.isVisible()){var n=[];if(n.push(Object(d.jsx)(g,{data:t.banner},"banner")),n.push(Object(d.jsx)(p,{subtitle:t.subTitle,buttons:t.buttons,getSelectedButton:this.getCurrentButton},"SubTitle")),t.buttons&&0!==t.buttons.length){var a=0,s=t.maxButtons;s>t.buttons.length&&(s=t.buttons.length),this.isMouseControlable()?s-1<t.currentButton&&(a=t.currentButton-(t.maxButtons-1),s=t.currentButton+1):s-2<t.currentButton&&(a=t.currentButton-(t.maxButtons-2),s=t.currentButton+2),s>t.buttons.length-1&&(a=(s=t.buttons.length)-t.maxButtons),a<0&&(a=0),s<0&&(s=0),this.oldStart=a,this.oldEnd=s;for(var i=function(a){var s=a+"",i=t.buttons[s];a===t.currentButton?i.selected=!0:i.selected=!1,i.id=a;var o=e.setSelected,u=e.enterDisableClickZone,c=e.exitDisableClickZone,r=e.canIClick;i.type?"list"===i.type?n.push(Object(d.jsx)(I,{button:i,enterDisableClickZone:u,exitDisableClickZone:c,canIClick:r,onMouseOver:function(){o(a)}},a)):"textInput"===i.type&&n.push(Object(d.jsx)(y,{button:i,enterDisableClickZone:u,exitDisableClickZone:c,canIClick:r,onMouseOver:function(){o(a)}},a)):n.push(Object(d.jsx)(D,{button:i,exitDisableClickZone:c,enterDisableClickZone:u,canIClick:r,onMouseOver:function(){o(a)}},a))},o=a;o<s;o++)i(o);t.buttons.length>t.maxButtons&&n.push(Object(d.jsx)(C,{},"ArrowsUpAndDown"))}return n}}},{key:"render",value:function(){var t=this.getMenuData(),e=this.createMenu(t);return Object(d.jsx)("div",{id:"Menu",style:{padding:t.padding,width:t.width},children:e})}}]),n}(s.a.Component),B={fr:{Inventory:"Inventaire",hat:"Chappeau",glasses:"Lunettes",mask:"Masque",top:"Haut",undertop:"Sous-Haut",gloves:"Gants",pants:"Pantalon",shoes:"Chaussures",FLOOR:"SOL",WEAPONS:"ARMES"}};function S(t){return B.fr[t]||"nc:"+t}n(15);var T=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},console.log("oui",S("Inventory")),a.cloths=t,a.createClothPart=a.createClothPart.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"createClothPart",value:function(){var t=[];return t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invHat",children:Object(d.jsx)("span",{className:"unselectable",children:S("hat")})},"invHat")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invGlasses",children:Object(d.jsx)("span",{className:"unselectable",children:S("glasses")})},"invGlasses")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invMask",children:Object(d.jsx)("span",{className:"unselectable",children:S("mask")})},"invMask")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invTops",children:Object(d.jsx)("span",{className:"unselectable",children:S("top")})},"invTops")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invUndershirt",children:Object(d.jsx)("span",{className:"unselectable",children:S("undertop")})},"invUndershirt")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invGlove",children:Object(d.jsx)("span",{className:"unselectable",children:S("gloves")})},"invGlove")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invPants",children:Object(d.jsx)("span",{className:"unselectable",children:S("pants")})},"invPants")),t.push(Object(d.jsx)("div",{className:"invClothPart",id:"invShoes",children:Object(d.jsx)("span",{className:"unselectable",children:S("shoes")})},"invShoes")),t}},{key:"render",value:function(){var t=this.createClothPart();return Object(d.jsx)("div",{id:"Cloths",children:t})}}]),n}(s.a.Component),P=(n(16),n(9)),N=(n(17),{DEFAULT:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/default.png",WHISKEY:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/alcool.png",BEER:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/beer.png",BINOCULARS:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/binoculars.png",CREDITCARD:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/cb.png",MASK:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/mask.png",SURFBOARD:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/surf.png",WEED:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/weed.png",STUNGUN:"https://www.gtabase.com/images/jch-optimize/ng/images_gta-5_weapons_handguns_stun-gun.webp",SNIPERRIFLE:"https://www.gtabase.com/images/jch-optimize/ng/images_gta-5_weapons_sniper-rifles_sniper-rifle.webp",COMBATPISTOL:"https://www.gtabase.com/images/jch-optimize/ng/images_gta-5_weapons_handguns_combat-pistol.webp",BULLET:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/bullet.png",METH:"https://raw.githubusercontent.com/PichotM/RPG-Inventory-UI/master/ui/assets/img/items/meth.png"});function L(t){return N[t]||N.DEFAULT}function E(){var t=Object.keys(N);return t[t.length*Math.random()<<0]}var R=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={},a.data=t.panelData,a.startDrag=t.startDrag,a.setHoveredItem=t.setHoveredItem,a.createItemsPanel=a.createItemsPanel.bind(Object(h.a)(a)),a.getItemsPanelData=a.getItemsPanelData.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"getItemsPanelData",value:function(){return this.data}},{key:"sortItems",value:function(t,e,n){var a=[];f(a,t);for(var s=[],i=1;i<=n;i++){for(var o=[],u=1;u<=e;u++)o.push(" ");s.push(o)}for(var c in a){var r=a[c];r.size=r.size||[1,1],r.area=(r.size[0]||1)*(r.size[1]||1)}for(var l in a.sort((function(t,e){return e.area-t.area})),a){for(var h=a[l],d=!0,m=0;m<s.length;m++){var b=s[m];d=!0;for(var v=0;v<b.length;v++){d=!0;for(var g=0;g<h.size[1];g++){for(var p=0;p<h.size[0];p++)if(!s[m+p]||!s[m+p][v+g]||" "!==s[m+p][v+g]){d=!1;break}if(!d)break}if(d){for(var j=0;j<h.size[1];j++)for(var O=0;O<h.size[0];O++)s[m+O][v+j]=l;break}}if(d)break}if(!d)return console.log("can't fit everything"),[[],{}]}return[s,a]}},{key:"calculateTotalWeight",value:function(t){var e=0;for(var n in t){var a=t[n];e+=(a.weight||0)*(a.qtty||1)}return e}},{key:"createItemsPanel",value:function(t){var e,n=this,a=[],s=this.sortItems(t.items,t.sizeX,t.sizeY),i=Object(P.a)(s,2),o=i[0],u=i[1];if(t.name&&(a.push(Object(d.jsx)("span",{className:"itemPanelTitle unselectable",children:t.name},"itemPanelTitle"+t.name)),a.push(Object(d.jsx)("div",{className:"invBreaker unselectable"},"breakerTitle"+t.name))),t.maxWeight){var c=this.calculateTotalWeight(t.items);e=Object(d.jsxs)("div",{className:"weightBarBackground unselectable",style:{position:"absolute",width:9.5*t.sizeX+"vh",left:t.left+"vw",top:t.top+"vh"},children:[Object(d.jsx)("div",{className:"weightBarFill unselectable",style:{width:c/t.maxWeight*100+"%"}},"weightBarFill"+(t.name||Math.random())),Object(d.jsx)("span",{className:"weightText",children:c.toFixed(3)+" / "+t.maxWeight+" kg"})]},"weightBarBackground"+(t.name||Math.random()))}for(var r=0;r<o.length;r++)for(var l=o[r],h=function(e){var s=u[l[e]],i="invItem ";0!==e&&l[e-1]===l[e]||(i+="leftFree "),e!==t.sizeX-1&&l[e+1]===l[e]||(i+="rightFree "),0!==r&&o[r-1][e]===o[r][e]||(i+="topFree "),r!==t.sizeY-1&&o[r+1][e]===o[r][e]||(i+="bottomFree ");var c=void 0;s&&i.includes("rightFree")&&i.includes("bottomFree")&&(c=Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:s.img||L(s.code),className:"unselectable",alt:"itemLogo",draggable:"false",style:{maxWidth:8*s.size[1]+"vh",maxHeight:8*s.size[0]-3+"vh",right:9*s.size[1]/2+"vh",bottom:9*s.size[0]/2+1.5+"vh"}},"invItemImg"+e+r),Object(d.jsx)("span",{className:"unselectable itemQtty",children:s.qtty||1},"invItemQtty"+e+r),Object(d.jsx)("div",{className:"unselectable itemName",style:{right:9*s.size[1]/2+"vh",width:9*s.size[1]-4.5+"vh"},children:Object(d.jsx)("span",{style:{maxWidth:9*s.size[1]/1.5+"vh"},children:s.customName||S(s.code)},"invItemName"+e+r)})]}));var h=n.setHoveredItem,m=n.startDrag;a.push(Object(d.jsx)("div",{className:i,onMouseOver:function(){s&&h(s)},onMouseDown:function(t){0===t.button&&m(25,25)},onMouseLeave:function(){s&&h()},children:c},"invItem"+e+r)),e===t.sizeX-1&&a.push(Object(d.jsx)("div",{className:"invBreaker"},"breaker"+r))},m=0;m<l.length;m++)h(m);return[a,e]}},{key:"render",value:function(){var t=this.getItemsPanelData(),e=this.createItemsPanel(t);return Object(d.jsxs)("div",{children:[e[1],Object(d.jsx)("div",{className:"itemsPanel",style:{position:"absolute",top:t.maxWeight?t.top+2.05+"vh":t.top+"vh",left:t.left+"vw",maxWidth:t.width+"vh",height:t.maxWeight?t.height-2.05+"vh":t.height+"vh"},children:e[0]})]})}}]),n}(s.a.Component);function U(){if(O()){for(var t={playerName:"Mamadou Kanat\xe9",panels:[{sizeX:8,sizeY:10,width:77,height:80,maxWeight:30,top:15,left:5,items:[]},{name:S("FLOOR"),sizeX:6,sizeY:1,width:60,height:13.5,top:82,left:56,items:[{code:"METH",customName:"O'Neil Crystal",qtty:10}]},{name:S("WEAPONS"),sizeX:3,sizeY:2,width:30,height:23,top:50,left:73,items:[{code:"COMBATPISTOL",qtty:1,size:[1,1]},{code:"SNIPERRIFLE",qtty:1,size:[1,3]},{code:"BULLET",qtty:70,size:[1,1]},{code:"BULLET",qtty:8,size:[1,1]}]}]},e=0;e<10;e++)t.panels[0].items.push({code:"randomItem"+e,img:L(E()),weight:Math.random()/10,qtty:Math.floor(99*Math.random())+1,size:[Math.floor(4*Math.random())+1,Math.floor(3*Math.random())+1]});return t}return{}}var z=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).state={},t.state={invData:U(),invOpen:O(),hoveredItem:null,drag:!1,mousePos:[0,0]},t.invClose=t.invClose.bind(Object(h.a)(t)),t.isVisible=t.isVisible.bind(Object(h.a)(t)),t.createInv=t.createInv.bind(Object(h.a)(t)),t.getInvData=t.getInvData.bind(Object(h.a)(t)),t.setHoveredItem=t.setHoveredItem.bind(Object(h.a)(t)),t.startDrag=t.startDrag.bind(Object(h.a)(t)),t.stopDrag=t.stopDrag.bind(Object(h.a)(t)),t.setMousePos=t.setMousePos.bind(Object(h.a)(t)),t}return Object(c.a)(n,[{key:"getInvData",value:function(){return this.state.invData}},{key:"isVisible",value:function(){return this.state.invOpen}},{key:"componentDidMount",value:function(){var t=this.invClose,e=this.isVisible;window.addEventListener("keydown",(function(n){"Escape"===n.key&&e()&&t()}));var n=this.setMousePos;document.addEventListener("mousemove",(function(t){n(t.clientX,t.clientY)}));var a=this.stopDrag;document.addEventListener("mouseup",(function(t){0===t.button&&a()}))}},{key:"invClose",value:function(){this.setState({invOpen:!1})}},{key:"setHoveredItem",value:function(t){this.state.drag||this.setState({hoveredItem:t})}},{key:"startDrag",value:function(t,e){this.setState({drag:[t,e]})}},{key:"stopDrag",value:function(){this.setState({drag:!1})}},{key:"setMousePos",value:function(t,e){this.setState({mousePos:[t,e]})}},{key:"createInv",value:function(t){var e=[];e.push(Object(d.jsx)("span",{id:"invTitle",className:"unselectable",children:S("Inventory")},"invTitle")),e.push(Object(d.jsx)("div",{id:"playerName",className:"unselectable",children:Object(d.jsx)("span",{children:t.playerName||"Player Name"})},"playerName")),e.push(Object(d.jsx)(T,{},"cloths"));var n=this.setHoveredItem,a=this.startDrag;for(var s in t.panels)e.push(Object(d.jsx)(R,{id:"itemsPanel"+s,panelData:t.panels[s],setHoveredItem:n,startDrag:a},"itemsPanel"+s));var i=this.state.hoveredItem;if(i)if(this.state.drag){var o=[];if(i){for(var u=0;u<i.size[0];u++)for(var c=0;c<i.size[1];c++){var r="invItem draggedItem ";0===c&&(r+="leftFree "),c===i.size[1]-1&&(r+="rightFree "),0===u&&(r+="topFree "),u===i.size[0]-1&&(r+="bottomFree ");var l=void 0;i&&r.includes("rightFree")&&r.includes("bottomFree")&&(l=Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:i.img||L(i.code),className:"unselectable",alt:"itemLogo",style:{maxWidth:8*i.size[1]+"vh",maxHeight:8*i.size[0]+"vh",right:9*i.size[1]/2+"vh",bottom:9*i.size[0]/2+"vh"}},"invItemImg"+c+u),Object(d.jsx)("span",{className:"unselectable itemQtty",children:i.qtty||1},"invItemQtty"+c+u)]})),o.push(Object(d.jsx)("div",{className:r,children:l},"draggedItem"+c+u)),c===i.size[1]-1&&o.push(Object(d.jsx)("div",{className:"invBreaker"},"breakerDraggedItem"+u))}e.push(Object(d.jsx)("div",{id:"draggedItemContainer",style:{top:this.state.mousePos[1]-this.state.drag[1],left:this.state.mousePos[0]-this.state.drag[0]},children:o},"draggedItemContainer"))}}else{var h=[];h.push(Object(d.jsx)("span",{id:"hoveredItemName",children:i.customName||S(i.code)},"hoveredItemName")),h.push(Object(d.jsx)("span",{id:"hoveredItemWeight",children:((i.weight||0)*(i.qtty||1)).toFixed(2)+"kg"},"hoveredItemWeight")),h.push(Object(d.jsx)("span",{id:"hoveredItemWeightDetail",children:"( "+(i.weight||0).toFixed(2)+"kg * "+(i.qtty||1)+" )"},"hoveredItemWeightDetail")),h.push(Object(d.jsx)("img",{id:"hoveredItemImg",alt:"hoveredItem",src:i.img||L(i.code)},"hoveredItemImg")),e.push(Object(d.jsx)("div",{className:"hoveredItem",style:{position:"absolute",left:this.state.mousePos[0]+10+"px",top:this.state.mousePos[1]-10+"px"},children:h},"hoveredItemDiv"))}return e}},{key:"render",value:function(){var t=this.getInvData();if(t.show){var e=this.createInv(t);return Object(d.jsx)("div",{id:"Inventory",children:e})}return Object(d.jsx)("div",{id:"Inventory",style:{zIndex:-100}})}}]),n}(s.a.Component),G=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(m,{}),Object(d.jsx)(b,{}),Object(d.jsx)(M,{}),Object(d.jsx)(z,{})]})}}]),n}(s.a.Component);o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(G,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.4c00d520.chunk.js.map